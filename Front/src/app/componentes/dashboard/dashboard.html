<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<div class="container-fluid home-container p-0">
  <nav class="navbar navbar-dark bg-dark sticky-top shadow-sm px-2">
    <div class="container-fluid d-flex justify-content-between align-items-center flex-nowrap">
      <div class="d-flex align-items-center gap-2">
        <button
          class="btn btn-outline-light d-md-none p-1 border-0"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#sidebarMobile"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <a class="navbar-brand d-flex align-items-center m-0" routerLink="/dashboard/metricas">
          <img src="logo.png" alt="Logo" class="dashboard-logo" />
        </a>
      </div>

      <div class="navbar-links">
        <button class="btn btn-logout fw-bold px-3 py-1" routerLink="/landing">
          <i class="bi bi-box-arrow-right"></i>
          <span class="d-none d-sm-inline ms-1">Cerrar sesiÃ³n</span>
          <span class="d-inline d-sm-none">Salir</span>
        </button>
      </div>
    </div>
  </nav>

  <div class="row g-0">
    <aside
      class="col-md-3 col-lg-2 bg-light border-end min-vh-100 d-none d-md-block sticky-top"
      style="top: 56px; height: calc(100vh - 56px)"
    >
      <div class="p-4">
        <h6 class="text-uppercase text-muted small fw-bold mb-3">MenÃº principal</h6>
        <ng-container *ngTemplateOutlet="menuContent"></ng-container>
      </div>
    </aside>

    <div
      class="offcanvas offcanvas-start bg-light"
      tabindex="-1"
      id="sidebarMobile"
      aria-labelledby="sidebarMobileLabel"
      style="width: 280px"
    >
      <div class="offcanvas-header border-bottom bg-dark text-white">
        <h5 class="offcanvas-title h6 fw-bold" id="sidebarMobileLabel">NAVEGACIÃ“N</h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body p-3">
        <ng-container *ngTemplateOutlet="menuContent"></ng-container>
      </div>
    </div>

    <main class="col-12 col-md-9 col-lg-10 bg-white">
      <div class="p-3 p-md-4">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>

<ng-template #menuContent>
  <ul class="nav flex-column gap-1">
    <li class="nav-item" *ngIf="[1, 2, 3].includes(rolUsuario)">
      <a
        class="nav-link"
        routerLink="/dashboard/metricas"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ“°</span> Dashboard
      </a>
    </li>
    <li class="nav-item" *ngIf="[1, 3].includes(rolUsuario)">
      <a
        class="nav-link"
        routerLink="/dashboard/clientes"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ‘¥</span> Clientes
      </a>
    </li>
    <li class="nav-item" *ngIf="[1, 3].includes(rolUsuario)">
      <a
        class="nav-link"
        routerLink="/dashboard/atencion"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">â˜ï¸</span> AtenciÃ³n Cliente
      </a>
    </li>
    <li class="nav-item" *ngIf="rolUsuario === 1">
      <a
        class="nav-link"
        routerLink="/dashboard/tecnicos"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ”§</span> TÃ©cnicos
      </a>
    </li>
    <li class="nav-item" *ngIf="rolUsuario === 1">
      <a
        class="nav-link"
        routerLink="/dashboard/personal-atencion"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ’¼</span> Personal Ventas
      </a>
    </li>
    <li class="nav-item" *ngIf="[1, 2].includes(rolUsuario)">
      <a
        class="nav-link"
        routerLink="/dashboard/ordenes-tecnico"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ—ï¸</span> Ã“rdenes / Reclamos
      </a>
    </li>
    <li class="nav-item" *ngIf="rolUsuario === 1">
      <a
        class="nav-link"
        routerLink="/dashboard/inventario"
        routerLinkActive="active-link"
        data-bs-dismiss="offcanvas"
      >
        <span class="icon">ğŸ“¦</span> Inventario
      </a>
    </li>
  </ul>
</ng-template>
